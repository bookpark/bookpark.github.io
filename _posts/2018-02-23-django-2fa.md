---
layout: post
comments: true
title: "Django admin에 2FA 인증 붙이기"
description: "Admin 보안을 위해 Two Factor Authentication을 활용해보자"
---

최근 많은 웹서비스에서 2FA를 활용해 보안을 높이고 있다. Django admin을 보호하기 위한 여러 방법이 있지만 간단하게 붙여볼 수 있는 패키지를 활용해 보안성을 높여보았다.



## Django 2FA 인증 활성화하기

### 설치

- `django-otp`와 `qrcode` 를 설치해준다.

```bash
pip install django-otp
pip install qrcode
```



- settings.py에 설정값 추가

```django
INSTALLED_APPS = (
   ...
   ‘django_otp’,
   ‘django_otp.plugins.otp_totp’,
   ...
)

...

MIDDLEWARE = (
   ...
   ‘django.contrib.auth.middleware.AuthenticationMiddleware’,
   ‘django_otp.middleware.OTPMiddleware’,
   ...
)

...

# OTP 앱에 보일 이름 설정
OTP_TOTP_ISSUER = 'Ohmywork'
```



- admin.py에 설정값 추가

```django
from django_otp.admin import OTPAdminSite

admin.site.__class__ = OTPAdminSite
```



- migrate!

```django
./manage.py migrate
```

