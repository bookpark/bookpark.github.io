---
layout: post
title:  "TIL 3일차"
categories: TIL
---

# TIL 3일차

## Model inheritance

### Multiple inheritance

**mix-in**

* class에 속성이나 메서드를 추가


### Field name "hiding" is not permitted

* 보통 파이썬 클래스에서는 child class가 parent class 속성을 변경할 수 있음
* 장고에서는 불가능
* `abstract model`에서는 가능
* `field_name = None`을 통해 제거할수도 있음

* **_django documentation중 읽어야 할 reference_**
	* Model field reference
	* Field attribute reference
	* QuerySet API reference
	* Lookup API reference

## Making queries

### Creating objects

```python
>>> b = Blog(name='Beatles Blog', tagline='All the latest Beatles news.')
>>> b.save()
```

### Save changes to objects

```python
>>> b5.name = 'New name'
>>> b5.save()
```

### Saving ForeignKey and ManyToManyField fields

* Updating a ForeignKey field works exactly the same way as saving a normal field – simply assign an object of the right type to the field in question.

```python
>>> e = Entry.objects.create(blog=b5)
```

* Updating a ManyToManyField works a little differently – use the add() method on the field to add a record to the relation. This example adds the Author instance joe to the entry object:
* save() 호출 필요 없음

```python
>>> joe = Author.objects.create(name="Joe")
>>> entry.authors.add(joe)
```

* To add multiple records to a ManyToManyField in one go, include multiple arguments in the call to add(), like this:

```python
>>> john = Author.objects.create(name="John")
>>> paul = Author.objects.create(name="Paul")
>>> george = Author.objects.create(name="George")
>>> ringo = Author.objects.create(name="Ringo")
>>> entry.authors.add(john, paul, george, ringo)
```

### Retrieving objects

```python
>>> Blog.objects
<django.db.models.manager.Manager object at ...>
>>> b = Blog(name='Foo', tagline='Bar')
>>> b.objects
Traceback:
    ...
AttributeError: "Manager isn't accessible via Blog instances."
```

### Retrieving all objects

```python
>>> all_entries = Entry.objects.all()
```

To create such a subset, you refine the initial QuerySet, adding filter conditions. The two most common ways to refine a QuerySet are:

* filter(\*\*kwargs)
	* Returns a new QuerySet containing objects that match the given lookup parameters.

* exclude(**kwargs)
	* Returns a new QuerySet containing objects that do not match the given lookup parameters.

### Retrieving specific objects with filters

For example, to get a QuerySet of blog entries from the year 2006, use filter() like so:

```python
>>> Entry.objects.filter(pub_date__year=2006)
```

With the default manager class, it is the same as:

```python
>>> Entry.objects.all().filter(pub_date__year=2006)
```

